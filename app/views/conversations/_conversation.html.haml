- participant = reject_if_less_than_one_participant(conversation)
%tr
  %td
    .row
      .col-4.col-lg-2.col-md-2
        = link_to conversation_path(conversation) do
          .pic-round-sm.lazy{ "data-src" => "#{participant.profile_picture}" }
      .col-5.col-lg-8.col-md-8
        %strong.pt-2= participant.username.capitalize
        %p.small
          = conversation.created_at.to_formatted_s(:short)
          - if conversation.is_unread?(current_user)
            %span.badge.badge-pill.badge-success= t '.new_message'
      .col-3.col-lg-2.col-md-2
        - if conversation.is_trashed?(current_user)
          = link_to "#{t '.restore'}", restore_conversation_path(conversation),
              class: 'btn btn-outline-primary btn-sm btn-primary',
              method: :post
        - else
          .red-text
            = link_to conversation_path(conversation), method: :delete,
                remote: true,
                class: "btn btn-outline-danger",
                title: "#{t '.delete'}",
                data: { confirm: "#{t '.delete_confirm'}" } do
              = fa_icon "times"
