#bg
  #wrap
    .col-6.mx-auto.whitesmoke-bg
      %h2.orange-text= t 'home.index.register'
      = form_for(resource, as: resource_name, url: registration_path(resource_name), class: "registration-bg") do |f|

        = f.fields_for :user_detail do |d|
          .form-group
            .previewProfilePic
            %label.button{"for" => "picUpload"}= t 'devise.registrations.edit.upload_prof_pic'
            = d.file_field :profile_picture, as: :file, class: "form-control show-for-sr", id: "picUpload", onchange: "previewProfilePic()"
            %p.error= show_errors(@user.user_detail, :profile_picture)

          .form-group
            %label= t 'devise.registrations.edit.state'
            = d.select :state, GC.states, {include_blank: true}, {class: "form-control state-selection"}
            %p.error= show_errors(@user.user_detail, :state)

          .form-group
            %label.city-selection-label= t 'devise.registrations.edit.city'
            = d.select :city, GC.cities('att'), {include_blank: "Πόλη"}, {class: "city-selection form-control"}
            %p.error= show_errors(@user.user_detail, :city)

          .form-group
            %legend= t 'devise.registrations.edit.gender'
            = d.collection_radio_buttons :gender, [['male', "#{t 'devise.registrations.edit.male'}"], ['female', "#{t 'devise.registrations.edit.female'}"], ['other', "#{t 'devise.registrations.edit.other'}"]], :first, :last, checked: ['male', "#{t 'devise.registrations.edit.male'}"]
            %p.error= show_errors(@user.user_detail, :gender)
          .form-group
            %label= t 'devise.registrations.edit.age'
            = d.select :age, options_for_select((18..99).step(1), 30)
            %p.error= show_errors(@user.user_detail, :age)

        .form-group
          %label= t 'devise.registrations.edit.username'
          = f.text_field :username, placeholder: "#{t 'devise.registrations.edit.only_latin'}", class: "form-control"
          %p.error= show_errors(@user, :username)

        .form-group
          %label= t 'devise.registrations.edit.email'
          = f.email_field :email, class: "form-group"
          %p.error= show_errors(@user, :email)

        .form-group
          %label= t 'devise.registrations.edit.password'
          = f.password_field :password, autocomplete: "off", class: "form-control"
          %p.error= show_errors(@user, :password)
          - if @minimum_password_length
            %small.text-muted
              (#{@minimum_password_length} #{t 'devise.registrations.edit.pass_validation'})

        .form-group
          %label= t 'devise.registrations.edit.password_confirmation'
          = f.password_field :password_confirmation, autocomplete: "off", class: "form-control"
          %p.error= show_errors(@user, :password_confirmation)

        .form-group
          = f.submit "Sign up", class: "btn btn-primary btn-block"
        = link_to "#{t 'abouts.edit.back'}", :back, class: 'button primary small'
