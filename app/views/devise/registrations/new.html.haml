.small-6.small-centered.columns.whitesmoke-bg
  %h2.orange-text= t 'devise.sessions.new.register'
  = form_for(resource, as: resource_name, url: registration_path(resource_name), class: "registration-bg") do |f|

    = f.fields_for :user_detail do |d|
      .previewProfilePic
      %label.button{"for" => "picUpload"}= t 'devise.registrations.edit.upload_prof_pic'
      = d.file_field :profile_picture, as: :file, class: "show-for-sr", id: "picUpload", onchange: "previewProfilePic()"
      %p.error= show_errors(@user.user_detail, :profile_picture)

      %label= t 'devise.registrations.edit.state'
      = d.select :state, GC.states, {include_blank: true}, {class: "state-selection"}
      %p.error= show_errors(@user.user_detail, :state)

      %label.city-selection-label= t 'devise.registrations.edit.city'
      = d.select :city, GC.cities('att'), {include_blank: "Πόλη"}, {class: "city-selection"}
      %p.error= show_errors(@user.user_detail, :city)

      .row
        .medium-7.columns
          %legend= t 'devise.registrations.edit.gender'
          = d.collection_radio_buttons :gender, [['male', "#{t 'devise.registrations.edit.male'}"], ['female', "#{t 'devise.registrations.edit.female'}"], ['other', "#{t 'devise.registrations.edit.other'}"]], :first, :last, checked: ['male', "#{t 'devise.registrations.edit.male'}"]
          %p.error= show_errors(@user.user_detail, :gender)
        .medium-5.columns
          %labe= t 'devise.registrations.edit.age'
          = d.select :age, options_for_select((18..99).step(1), 30)
          %p.error= show_errors(@user.user_detail, :age)

    %label= t 'devise.registrations.edit.username'
    = f.text_field :username
    %p.error= show_errors(@user, :username)

    %label= t 'devise.registrations.edit.email'
    = f.email_field :email
    %p.error= show_errors(@user, :email)

    %label= t 'devise.registrations.edit.password'
    = f.password_field :password, autocomplete: "off"
    %p.error= show_errors(@user, :password)
    %p.help-text
      - if @minimum_password_length
        %em
          (#{@minimum_password_length} #{t 'devise.registrations.edit.pass_validation'})

    %label= t 'devise.registrations.edit.password_confirmation'
    = f.password_field :password_confirmation, autocomplete: "off"
    %p.error= show_errors(@user, :password_confirmation)
    = f.submit "Sign up", class: "button success expanded"
    = link_to "#{t 'abouts.edit.back'}", :back, class: 'button primary small'
  = render "devise/shared/links"
